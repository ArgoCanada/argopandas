

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>argopandas &mdash; argopandas  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Main interface" href="argopandas.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> argopandas
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="argopandas.html">Main interface</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">argopandas</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>argopandas</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="argopandas">
<h1>argopandas<a class="headerlink" href="#argopandas" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/ArgoCanada/argopandas/actions/workflows/check.yaml"><img alt="Check" src="https://github.com/ArgoCanada/argopandas/actions/workflows/check.yaml/badge.svg" /></a> <a class="reference external" href="https://codecov.io/gh/ArgoCanada/argopandas?branch=master"><img alt="Codecov test coverage" src="https://codecov.io/gh/ArgoCanada/argopandas/branch/master/graph/badge.svg" /></a></p>
<p>The goal of argopandas is to provide seamless access to Argo NetCDF
files using a pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>-based interface. It is a Python port
of the <a class="reference external" href="https://github.com/ArgoCanada/argodata">argodata package for
R</a>. The package is under
heavy development and we would love feedback on the interface or
anything else about the package!</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>You can install the <code class="docutils literal notranslate"><span class="pre">argopandas</span></code> package using <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install git+https://github.com/ArgoCanada/argopandas.git
</pre></div>
</div>
<p>The package depends on <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, and <code class="docutils literal notranslate"><span class="pre">netCDF4</span></code>, which you
can install using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pandas</span> <span class="pre">numpy</span> <span class="pre">netCDF4</span></code> or via your
favourite Python package management system. The <code class="docutils literal notranslate"><span class="pre">argopandas</span></code> package
requires Python 3.6 or later.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The intended interface for most usage is contained in the <code class="docutils literal notranslate"><span class="pre">argopandas</span></code>
module. You can import this as <code class="docutils literal notranslate"><span class="pre">argo</span></code> for pretty-looking syntax:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">argopandas</span> <span class="k">as</span> <span class="nn">argo</span>
<span class="c1"># to make this work with GitHub</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.notebook_repr_html&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>The global indexes are available via <code class="docutils literal notranslate"><span class="pre">argo.prof</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.meta</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.tech</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.traj</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.bio_prof</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.synthetic_prof</span></code>, and <code class="docutils literal notranslate"><span class="pre">argo.bio_traj</span></code>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">argo</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">                       file  profiler_type institution  0  aoml/13857/13857_meta.nc            845          AO
1  aoml/13858/13858_meta.nc            845          AO
2  aoml/13859/13859_meta.nc            845          AO
3  aoml/15819/15819_meta.nc            845          AO
4  aoml/15820/15820_meta.nc            845          AO

                date_update
0 2018-10-11 20:00:14+00:00
1 2018-10-11 20:00:15+00:00
2 2018-10-11 20:00:25+00:00
3 2018-10-11 20:00:16+00:00
4 2018-10-11 20:00:18+00:00</pre>
<p>By defaut, downloads are lazily cached from the <a class="reference external" href="https://data-argo.ifremer.fr">Ifremer https
mirror</a>. You can use
<code class="docutils literal notranslate"><span class="pre">argo.url_mirror()</span></code> or <code class="docutils literal notranslate"><span class="pre">argo.file_mirror()</span></code> with
<code class="docutils literal notranslate"><span class="pre">argo.set_default_mirror()</span></code> to point <code class="docutils literal notranslate"><span class="pre">argopandas</span></code> at your favourite
copy of Argo.</p>
<p>To get Argo data from one or more NetCDF files, subset the indexes and
use one of the table accessors to download, cache, and read variables
aligned along common dimensions. The accessor you probably want is the
<code class="docutils literal notranslate"><span class="pre">.levels</span></code> accessor from the <code class="docutils literal notranslate"><span class="pre">argo.prof</span></code> index:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">argo</span><span class="o">.</span><span class="n">prof</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">levels</span><span class="p">[[</span><span class="s1">&#39;PRES&#39;</span><span class="p">,</span> <span class="s1">&#39;TEMP&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                                                          <span class="n">PRES</span>       <span class="n">TEMP</span>
<span class="n">file</span>                              <span class="n">N_PROF</span> <span class="n">N_LEVELS</span>
<span class="n">aoml</span><span class="o">/</span><span class="mi">13857</span><span class="o">/</span><span class="n">profiles</span><span class="o">/</span><span class="n">R13857_001</span><span class="o">.</span><span class="n">nc</span> <span class="mi">0</span>      <span class="mi">0</span>           <span class="mf">11.900000</span>  <span class="mf">22.235001</span>
                                         <span class="mi">1</span>           <span class="mf">17.000000</span>  <span class="mf">21.987000</span>
                                         <span class="mi">2</span>           <span class="mf">22.100000</span>  <span class="mf">21.891001</span>
                                         <span class="mi">3</span>           <span class="mf">27.200001</span>  <span class="mf">21.812000</span>
                                         <span class="mi">4</span>           <span class="mf">32.299999</span>  <span class="mf">21.632000</span>
<span class="o">...</span>                                                        <span class="o">...</span>        <span class="o">...</span>
<span class="n">aoml</span><span class="o">/</span><span class="mi">13857</span><span class="o">/</span><span class="n">profiles</span><span class="o">/</span><span class="n">R13857_005</span><span class="o">.</span><span class="n">nc</span> <span class="mi">0</span>      <span class="mi">102</span>        <span class="mf">976.500000</span>   <span class="mf">4.527000</span>
                                         <span class="mi">103</span>        <span class="mf">986.700012</span>   <span class="mf">4.527000</span>
                                         <span class="mi">104</span>        <span class="mf">996.799988</span>   <span class="mf">4.533000</span>
                                         <span class="mi">105</span>       <span class="mf">1007.000000</span>   <span class="mf">4.487000</span>
                                         <span class="mi">106</span>       <span class="mf">1017.200012</span>   <span class="mf">4.471000</span>

<span class="p">[</span><span class="mi">551</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
<p>You can get data from every variable in an Argo NetCDF file using one of
these accessors. The variables grouped in each are aligned along the
same dimensions and are documented together in the Argo user’s manual.</p>
<ul class="simple">
<li><p>All indexes have a <code class="docutils literal notranslate"><span class="pre">.info</span></code> accessor that contains length-one
variables that aren’t aligned along any dimensions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argo.prof</span></code>: <code class="docutils literal notranslate"><span class="pre">argo.prof.levels</span></code>, <code class="docutils literal notranslate"><span class="pre">arog.prof.prof</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.prof.calib</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.prof.param</span></code>, and <code class="docutils literal notranslate"><span class="pre">argo.prof.history</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argo.traj</span></code>: <code class="docutils literal notranslate"><span class="pre">argo.traj.cycle</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.traj.measurement</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.traj.param</span></code>, and <code class="docutils literal notranslate"><span class="pre">argo.traj.history</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argo.tech</span></code>: <code class="docutils literal notranslate"><span class="pre">argo.tech.tech_param</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argo.meta</span></code>: <code class="docutils literal notranslate"><span class="pre">argo.meta.config_param</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.meta.missions</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.meta.trans_system</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.meta.positioning_system</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.meta.launch_config_param</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.meta.sensor</span></code>, and
<code class="docutils literal notranslate"><span class="pre">argo.meta.param</span></code></p></li>
</ul>
<p>Once you have a data frame you do anything you’d do with a regular
<code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code>, like plot your data using the built-in plot method:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">argo</span><span class="o">.</span><span class="n">prof</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">):</span>
    <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;TEMP&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;PRES&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/README_8_0.png" src="_images/README_8_0.png" />
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="argopandas.html">Main interface</a></li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="argopandas.html" class="btn btn-neutral float-right" title="Main interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Dewey Dunnington.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>argopandas &mdash; argopandas  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="argopandas package API" href="argopandas.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> argopandas
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="argopandas.html">argopandas package API</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirror.html">Mirror API</a></li>
<li class="toctree-l1"><a class="reference internal" href="path.html">Argo filename information API</a></li>
<li class="toctree-l1"><a class="reference internal" href="netcdf.html">NetCDF Wrapper API</a></li>
<li class="toctree-l1"><a class="reference internal" href="float.html">Argo Float API</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_mod.html">NetCDF File Index API</a></li>
<li class="toctree-l1"><a class="reference internal" href="global_index.html">Global index file API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">argopandas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>argopandas</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="argopandas">
<h1>argopandas<a class="headerlink" href="#argopandas" title="Permalink to this headline"></a></h1>
<p><a class="reference external" href="https://github.com/ArgoCanada/argopandas/actions/workflows/check.yaml"><img alt="Check" src="https://github.com/ArgoCanada/argopandas/actions/workflows/check.yaml/badge.svg" /></a> <a class="reference external" href="https://codecov.io/gh/ArgoCanada/argopandas?branch=master"><img alt="Codecov test coverage" src="https://codecov.io/gh/ArgoCanada/argopandas/branch/master/graph/badge.svg" /></a> <a class="reference external" href="https://pypi.org/project/argopandas/"><img alt="argopandas on PyPi" src="https://pypip.in/v/argopandas/badge.svg" /></a> <a class="reference external" href="https://argocanada.github.io/argopandas/"><img alt="Documentation" src="https://img.shields.io/badge/Documentation-ArgoCanada.github.io%2Fargopandas-yellow" /></a>
<a class="reference external" href="https://github.com/ArgoCanada/argopandas"><img alt="argopandas on GitHub" src="https://img.shields.io/badge/GitHub-ArgoCanada%2Fargopandas-blue" /></a></p>
<p>The goal of argopandas is to provide seamless access to Argo NetCDF
files using a pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>-based interface. It is a Python port
of the <a class="reference external" href="https://github.com/ArgoCanada/argodata">argodata package for
R</a>. The package is under
heavy development and we would love feedback on the interface or
anything else about the package!</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h2>
<p>You can install the <code class="docutils literal notranslate"><span class="pre">argopandas</span></code> package using <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install argopandas
</pre></div>
</div>
<p>The package depends on <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, <code class="docutils literal notranslate"><span class="pre">netCDF4</span></code>, and
<code class="docutils literal notranslate"><span class="pre">pyarrow</span></code>, which install automatically if using <code class="docutils literal notranslate"><span class="pre">pip</span></code> or you can
install also your favourite Python package manager. The <code class="docutils literal notranslate"><span class="pre">argopandas</span></code>
package requires Python 3.6 or later.</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<p>The intended interface for most usage is contained in the <code class="docutils literal notranslate"><span class="pre">argopandas</span></code>
module. You can import this as <code class="docutils literal notranslate"><span class="pre">argo</span></code> for pretty-looking syntax:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import argopandas as argo
</pre></div>
</div>
<p>The global indexes are available via <code class="docutils literal notranslate"><span class="pre">argo.prof</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.meta</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.tech</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.traj</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.bio_prof</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.synthetic_prof</span></code>, and <code class="docutils literal notranslate"><span class="pre">argo.bio_traj</span></code>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>argo.meta.head(5)
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                       <span class="n">file</span>  <span class="n">profiler_type</span> <span class="n">institution</span>     <span class="n">date_update</span>
<span class="mi">0</span>  <span class="n">aoml</span><span class="o">/</span><span class="mi">13857</span><span class="o">/</span><span class="mi">13857</span><span class="n">_meta</span><span class="o">.</span><span class="n">nc</span>            <span class="mi">845</span>          <span class="n">AO</span>  <span class="mi">20181011200014</span>
<span class="mi">1</span>  <span class="n">aoml</span><span class="o">/</span><span class="mi">13858</span><span class="o">/</span><span class="mi">13858</span><span class="n">_meta</span><span class="o">.</span><span class="n">nc</span>            <span class="mi">845</span>          <span class="n">AO</span>  <span class="mi">20181011200015</span>
<span class="mi">2</span>  <span class="n">aoml</span><span class="o">/</span><span class="mi">13859</span><span class="o">/</span><span class="mi">13859</span><span class="n">_meta</span><span class="o">.</span><span class="n">nc</span>            <span class="mi">845</span>          <span class="n">AO</span>  <span class="mi">20181011200025</span>
<span class="mi">3</span>  <span class="n">aoml</span><span class="o">/</span><span class="mi">15819</span><span class="o">/</span><span class="mi">15819</span><span class="n">_meta</span><span class="o">.</span><span class="n">nc</span>            <span class="mi">845</span>          <span class="n">AO</span>  <span class="mi">20181011200016</span>
<span class="mi">4</span>  <span class="n">aoml</span><span class="o">/</span><span class="mi">15820</span><span class="o">/</span><span class="mi">15820</span><span class="n">_meta</span><span class="o">.</span><span class="n">nc</span>            <span class="mi">845</span>          <span class="n">AO</span>  <span class="mi">20181011200018</span>
</pre></div>
</div>
<p>By defaut, downloads are lazily cached from the <a class="reference external" href="https://data-argo.ifremer.fr">Ifremer https
mirror</a>. You can use
<code class="docutils literal notranslate"><span class="pre">argo.url_mirror()</span></code> or <code class="docutils literal notranslate"><span class="pre">argo.file_mirror()</span></code> with
<code class="docutils literal notranslate"><span class="pre">argo.set_default_mirror()</span></code> to point <code class="docutils literal notranslate"><span class="pre">argopandas</span></code> at your favourite
copy of Argo.</p>
<p>To get Argo data from one or more NetCDF files, subset the indexes and
use one of the table accessors to download, cache, and read variables
aligned along common dimensions. The accessor you probably want is the
<code class="docutils literal notranslate"><span class="pre">.levels</span></code> accessor from the <code class="docutils literal notranslate"><span class="pre">argo.prof</span></code> index:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>argo.prof.head(5).levels[[&#39;PRES&#39;, &#39;TEMP&#39;]]
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                                                          <span class="n">PRES</span>       <span class="n">TEMP</span>
<span class="n">file</span>                              <span class="n">N_PROF</span> <span class="n">N_LEVELS</span>
<span class="n">aoml</span><span class="o">/</span><span class="mi">13857</span><span class="o">/</span><span class="n">profiles</span><span class="o">/</span><span class="n">R13857_001</span><span class="o">.</span><span class="n">nc</span> <span class="mi">0</span>      <span class="mi">0</span>           <span class="mf">11.900000</span>  <span class="mf">22.235001</span>
                                         <span class="mi">1</span>           <span class="mf">17.000000</span>  <span class="mf">21.987000</span>
                                         <span class="mi">2</span>           <span class="mf">22.100000</span>  <span class="mf">21.891001</span>
                                         <span class="mi">3</span>           <span class="mf">27.200001</span>  <span class="mf">21.812000</span>
                                         <span class="mi">4</span>           <span class="mf">32.299999</span>  <span class="mf">21.632000</span>
<span class="o">...</span>                                                        <span class="o">...</span>        <span class="o">...</span>
<span class="n">aoml</span><span class="o">/</span><span class="mi">13857</span><span class="o">/</span><span class="n">profiles</span><span class="o">/</span><span class="n">R13857_005</span><span class="o">.</span><span class="n">nc</span> <span class="mi">0</span>      <span class="mi">102</span>        <span class="mf">976.500000</span>   <span class="mf">4.527000</span>
                                         <span class="mi">103</span>        <span class="mf">986.700012</span>   <span class="mf">4.527000</span>
                                         <span class="mi">104</span>        <span class="mf">996.799988</span>   <span class="mf">4.533000</span>
                                         <span class="mi">105</span>       <span class="mf">1007.000000</span>   <span class="mf">4.487000</span>
                                         <span class="mi">106</span>       <span class="mf">1017.200012</span>   <span class="mf">4.471000</span>

<span class="p">[</span><span class="mi">551</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
<p>You can get data from every variable in an Argo NetCDF file using one of
these accessors. The variables grouped in each are aligned along the
same dimensions and are documented together in the Argo user’s manual.</p>
<ul class="simple">
<li><p>All indexes have a <code class="docutils literal notranslate"><span class="pre">.info</span></code> accessor that contains length-one
variables that aren’t aligned along any dimensions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argo.prof</span></code>: <code class="docutils literal notranslate"><span class="pre">argo.prof.levels</span></code>, <code class="docutils literal notranslate"><span class="pre">arog.prof.prof</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.prof.calib</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.prof.param</span></code>, and <code class="docutils literal notranslate"><span class="pre">argo.prof.history</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argo.traj</span></code>: <code class="docutils literal notranslate"><span class="pre">argo.traj.cycle</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.traj.measurement</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.traj.param</span></code>, and <code class="docutils literal notranslate"><span class="pre">argo.traj.history</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argo.tech</span></code>: <code class="docutils literal notranslate"><span class="pre">argo.tech.tech_param</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argo.meta</span></code>: <code class="docutils literal notranslate"><span class="pre">argo.meta.config_param</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.meta.missions</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.meta.trans_system</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.meta.positioning_system</span></code>,
<code class="docutils literal notranslate"><span class="pre">argo.meta.launch_config_param</span></code>, <code class="docutils literal notranslate"><span class="pre">argo.meta.sensor</span></code>, and
<code class="docutils literal notranslate"><span class="pre">argo.meta.param</span></code></p></li>
</ul>
<p>Once you have a data frame you do anything you’d do with a regular
<code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code>, like plot your data using the built-in plot method:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import matplotlib.pyplot as plt
fig, ax = plt.subplots()
for label, df in argo.prof.head(5).levels.groupby(&#39;file&#39;):
    df.plot(x=&#39;TEMP&#39;, y = &#39;PRES&#39;, ax=ax, label=label)
ax.invert_yaxis()
</pre></div>
</div>
<img alt="_images/README_8_0.png" src="_images/README_8_0.png" />
<p>You can access all the index files for a particular float using
<code class="docutils literal notranslate"><span class="pre">argo.float()</span></code>, which lazily filters all the indexes for a particular
float ID.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>float_obj = argo.float(13857)
float_obj.meta.info
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Reading</span> <span class="mi">1</span> <span class="n">file</span>
</pre></div>
</div>
<pre class="literal-block">                                   DATA_TYPE FORMAT_VERSION HANDBOOK_VERSION  file
aoml/13857/13857_meta.nc 0  Argo meta-data             3.1              1.2

                             DATE_CREATION     DATE_UPDATE PLATFORM_NUMBER  file
aoml/13857/13857_meta.nc 0  20181011200014  20181011200014        13857

                                                                          PTT  file
aoml/13857/13857_meta.nc 0  09335                                         ...

                                                              PLATFORM_FAMILY  file
aoml/13857/13857_meta.nc 0  FLOAT                                         ...

                                               PLATFORM_TYPE  file
aoml/13857/13857_meta.nc 0  PALACE

                                                               PLATFORM_MAKER  file
aoml/13857/13857_meta.nc 0  WRC                                           ...

                            ... LAUNCH_QC      START_DATE START_DATE_QC  file                        ...
aoml/13857/13857_meta.nc 0  ...      b'1'  19970719163000          b'1'

                              STARTUP_DATE STARTUP_DATE_QC  file
aoml/13857/13857_meta.nc 0  19970719103000            b'1'

                                         DEPLOYMENT_PLATFORM  file
aoml/13857/13857_meta.nc 0  R/V Seward Johnson

                                        DEPLOYMENT_CRUISE_ID  file
aoml/13857/13857_meta.nc 0  97-03

                                              DEPLOYMENT_REFERENCE_STATION_ID  file
aoml/13857/13857_meta.nc 0  CTD 108                                       ...

                           END_MISSION_DATE END_MISSION_STATUS
file
aoml/13857/13857_meta.nc 0                                 NaN

[1 rows x 43 columns]</pre>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="argopandas.html">argopandas package API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="argopandas.html#global-indexes">Global indexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="argopandas.html#mirror-setters-and-getters">Mirror setters and getters</a></li>
<li class="toctree-l2"><a class="reference internal" href="argopandas.html#quick-access-to-floats-and-files">Quick access to floats and files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mirror.html">Mirror API</a></li>
<li class="toctree-l1"><a class="reference internal" href="path.html">Argo filename information API</a></li>
<li class="toctree-l1"><a class="reference internal" href="netcdf.html">NetCDF Wrapper API</a></li>
<li class="toctree-l1"><a class="reference internal" href="float.html">Argo Float API</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_mod.html">NetCDF File Index API</a></li>
<li class="toctree-l1"><a class="reference internal" href="global_index.html">Global index file API</a></li>
</ul>
</div>
</section>
<section id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="argopandas.html" class="btn btn-neutral float-right" title="argopandas package API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Dewey Dunnington.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>